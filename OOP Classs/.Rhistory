}
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value) %>%
filter(id == x$id, visit == x$visit,room == x$room) %>%
select(value)
summary(value)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value) %>%
filter(id == x$id, visit == x$visit,room == x$room) %>%
select(value)
summary(temp)
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value) %>%
filter(id == x$id, visit == x$visit,room == x$room) %>%
select(value)
summary(temp)
}
print(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value) %>%
filter(id == x$id, visit == x$visit,room == x$room) %>%
select(value)
summary(temp)
}
subject(temp1,44) %>% visit(1) %>% room('living room')
out <- subject(temp1,14) %>% visit(1)  %>% summary
print(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
# temp <- x$data %>% select(id, visit, room, value) %>%
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
print(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- data %>% select(id, visit, room, value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
print(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- data$data %>% select(id, visit, room, value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
print(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
#structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
#structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
#structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, x$value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
#structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data %>% select(id, visit, room, x$value)
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
#structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
#structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
View(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
temp <- x$data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
print(out)
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
#temp <- x$data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
library(tidyr)
make_LD <- function(x){
structure(list(data = x),class="LongitudinalData")
}
print.LongitudinalData <- function(x){
cat("Longitudinal dataset with",length(unique(x$data$id)),"subjects")
}
subject <- function(x,condition){
if(!condition %in% x$data$id){
NULL}
else {
temp <- x$data %>% select(id, visit, room, value) %>%
filter(id == condition) %>%
group_by(visit,room) %>% summarise(value=mean(value)) %>%
spread(room,value)
temp <- data.frame(temp)
structure(list(data=temp,id=condition),class="subject")
}
}
print.subject <- function(x){
cat("Subject ID:",x$id)
}
summary.subject <- function(x){
mylist <- list(id=x$id,data=x$data)
structure(mylist,class="summary")
}
print.summary <- function(x){
cat("ID:",x$id,"\n\n")
print(x$data)
}
visit <- function(x,condition){
temp <- x$data %>% filter(visit == condition)
temp <- data.frame(temp)
structure(list(data=temp,id=x$id, visit=condition),class="visit")
}
print.visit <- function(x){
cat("Subject ID:",x$id,"\n")
cat("Visit:", x$visit)
}
summary.visit <- function(x){
mylist <- list(id=x$id,visit=x$visit, data=x$data)
structure(mylist,class="summaryvisit")
}
print.summaryvisit <- function(x){
cat("ID:",x$id,"\n")
cat("Room:",x$visit, "\n\n")
print(x$data)
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
x$data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class="room")
#data
# filter(id == x$id, visit == x$visit,room == x$room) %>%
# select(value)
# summary(temp)
#
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition, set =
data %>%
filter(id == x$id, visit == x$visit,room == x$room) %>%
select(value)),class='room')
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition, set =
data %>%
filter(id == x$id, visit == x$visit,room == x$room) %>%
select(value)),class='room')
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition, set = temp %>% filter(id == x$id, visit == x$visit,room == x$room),class='room'))
}
room <- function(x,condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition, set = temp %>% filter(id == x$id, visit == x$visit,room == x$room),class='room'))
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, set = temp %>% filter(id == x$id, visit == x$visit,room == x$room),class='room'))
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, set = temp %>% filter(id == x$id, visit == x$visit,room == condition),class='room'))
}
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, set = temp %>% filter(id == x$id, visit == x$visit,room == condition),class='room'))
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
print(out)
out$set$room
unique(out$set$room)
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=x$room,set = temp %>% filter(id == x$id, visit == x$visit,room == x$condition),class='room'))
}
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=x$room,set = temp %>% filter(id == x$id, visit == x$visit,room == x$condition),class='room'))
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition,class='room'))
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') #%>% summary()
summary.room <- function(x){
x$data %>% select(x$id==x$id)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
summary.room <- function(x){
x$data$data %>% select(x$id==x$id)
}
View(print.subject)
summary.room <- function(x){
x$data$data %>% select(x$id==x$id)
}
summary.room <- function(x){
x$data$data %>% select(x$id==x$id)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
subject(temp1,44) %>% visit(1) %>% room('living room')
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
print(out)
summary.room <- function(x){
x$data$data %>% select(id==x$id)
}
summary.room <- function(x){
x$data$data %>% select(id==x$id)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
summary.room <- function(x){
x$data$data
}
View(make_LD)
out <- subject(temp1,14) %>% visit(1) %>% room('living room') %>% summary()
print(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
summary.room <- function(x){
x$data
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
summary.room <- function(x){
x[1]
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
temp <- read.csv("data/MIE.csv")
temp1 <- make_LD(temp)
class(temp1)
print(temp1)
out <- subject(temp1,10)
print(out)
out <- subject(temp1,14)
print(out)
out <- subject(temp1,14) %>% summary
print(out)
out <- subject(temp1,14) %>% visit(1)
print(out)
out <- subject(temp1,14) %>% visit(1)  %>% summary
print(out)
out <- subject(temp1,14) %>% summary
print(out)
out <- subject(temp1,14) %>% visit(1)
print(out)
out <- subject(temp1,14) %>% visit(1)  %>% summary
print(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
summary.room <- function(x){
return(x)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
rm(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
print(out)
summary(out)
class(out)
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class='room')
}
View(print.LongitudinalData)
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
room <- function(x, condition){
#temp <- x$data[,condition %in% names(x$data)]
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class='room')
}
summary.room <- function(x){
x$data %>% select(id,visit,room,value)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
summary.room <- function(x){
x$data %>% select(id,visit,room,value) %>%
filter(id == x$id,visit == id$visit,room == x$room)
}
View(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
out <- subject(temp1,44) %>% visit(1) %>% room('living room'
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
print(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
str(out)
out$id
out$data %>% filter(id==out$id)
out$data %>% filter(id==out$id, visit==out$visit)
summary.room <- function(x){
x$data %>% select(id,visit,room,value) %>%
filter(id == x$id,visit == id$visit,room == x$room)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
summary.room <- function(x){
x$data %>% select(id,visit,room,value)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
View(out)
summary.room <- function(x){
#x$data %>% select(id,visit,room,value)
x$room
}
View(temp)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
summary.room <- function(x){
#x$data %>% select(id,visit,room,value)
x$room
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
filter(x$data, room == x$room)
}
View(print.LongitudinalData)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
summary.room <- function(x){
filter(x$data, room == x$room)
}
summary.room <- function(x){
filter(x$data, room == x$room)
}
summary.room <- function(x){
filter(x$data, room == x$room)
}
summary.room <- function(x){
filter(x$data, room == x$room)
}
summary.room <- function(x){
filter(x$data, room == x$room)
}
summary.room <- function(x){
filter(x$data, room == x$room)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
summary.room <- function(x){
filter(x$data, room == x$room,id==x$id)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
out <- subject(temp1,44) %>% visit(1) %>% room('living room')
filter(x$data, room == x$room,id==x$id,visit==x$visit)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
summary.room <- function(x){
filter(x$data, room == x$room,id==x$id,visit==x$visit)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
View(out)
summary.room <- function(x){
filter(x$data, room == x$room,id==x$id,visit==x$visit) %>% select(value)
}
summary.room <- function(x){
filter(x$data, room == x$room,id==x$id,visit==x$visit) %>% select(value)
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
View(out)
summary.room <- function(x){
filter(x$data, room == x$room,id==x$id,visit==x$visit) %>% select(value) %>%
summary()
}
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
out <- subject(temp1,44) %>% visit(0) %>% room('living room') %>% summary()
print(out)
out <- subject(temp1, 44) %>% visit(0) %>% room("bedroom") %>% summary
print(out)
out <- subject(temp1,44) %>% visit(0) %>% room('living room') %>% summary()
print(out)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
print.summaryvisit <- function(x){
cat("ID:",x$id,"\n")
cat("Room:",x$visit, "\n\n")
print(x$data)
}
room <- function(x, condition){
structure(list(data=temp,id=x$id, visit=x$visit, room=condition),class='room')
}
summary.room <- function(x){
temp <- filter(x$data, room == x$room,id==x$id,visit==x$visit) %>% select(value) %>%
summary()
}
View(make_LD)
out <- subject(temp1,44) %>% visit(1) %>% room('living room') %>% summary()
print(out)
out <- subject(temp1, 44) %>% visit(0) %>% room("bedroom") %>% summary
print(out)
